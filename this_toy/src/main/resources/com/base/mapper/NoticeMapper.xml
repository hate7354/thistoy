<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.base.mapper.NoticeMapper">

	<select id="getList" resultType="NoticeVO">
		select * from notice order by notice_num desc
	</select>
	
	<insert id="insert">
	insert INTO notice (notice_num, notice_title, notice_text, user_id)
	VALUES (notice_seq.nextval, #{notice_title}, #{notice_text}, #{user_id})
	</insert>
	
	<insert id="insertSelectKey">
	
	<selectKey order="BEFORE" keyProperty="notice_num" resultType="Long">
	select notice_seq.nextval from dual
	</selectKey>

	insert INTO notice (notice_num, notice_title, notice_text, user_id)
	VALUES (#{notice_num}, #{notice_title}, #{notice_text}, #{user_id})
	</insert>
	
	<select id="read"  resultType="NoticeVO">
	select * from notice where notice_num = #{notice_num}
	</select>
	
	<delete id="delete">
	delete from notice where notice_num = #{notice_num}
	</delete>
	
</mapper>