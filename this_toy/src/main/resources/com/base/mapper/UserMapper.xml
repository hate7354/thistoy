<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EX"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 매핑할 메소드가 있는 인터페이스 찾는다 = 인터페이스와 동일하게 -->
<!-- id = 메소드명 -->
<!-- #{변수명} : preparestatement를 사용한다 변수명은 VO의 getter를 사용하는것과 같음 -->
<mapper namespace="com.base.mapper.UserMapper">

	<!-- 로그인 -->
	<select id="login" resultType="com.base.entity.UserVO">
		select user_id,user_passwd from
		usertable
		where
		user_id = #{userId}
		and
		user_passwd = #{userPasswd}
	</select>
	<select id="loginCheck" resultType="int">
		select count(*) from
		usertable
		where user_id = #{userId}
		and
		user_passwd = #{userPasswd}
	</select>
	<select id="loginCheck2" resultType="String">
		select user_id from
		usertable
		where user_id = #{userId}
		and
		user_passwd = #{userPasswd}
	</select>
	<select id="viewUser" resultType="com.base.entity.UserVO">
		select * from
		usertable
		where user_id = #{userId}
		and
		user_passwd = #{userPasswd}
	</select>
	<select id="idCheck" resultType="int">
		select count(*) from usertable
		where user_id = #{userId}
	</select>
	<!-- 회원가입 -->
	<insert id="register">
		insert into usertable (
		user_id,
		user_passwd,
		user_name,
		user_email,
		user_tel,
		user_address_post,
		user_address,
		user_address_detail
		) values (
		#{userId},
		#{userPasswd},
		#{userName},
		#{userEmail},
		#{userTel},
		#{userAddressPost},
		#{userAddress},
		#{userAddressDetail}
		)
		<!-- 'xml테스트','xml테스트','xml테스트','xml테스트','xml테스트','xml테스트' -->
	</insert>
	<select id="selectById" resultType="com.base.entity.UserVO">
<!--         <![CDATA[ -->
          SELECT * FROM
              usertable
               WHERE 
               user_id = #{userId}
<!--               and -->
<!--                user_passwd = #{userPasswd} -->
<!--       ]]> -->
	</select>

</mapper>
